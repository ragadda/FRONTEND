{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ragad Fares\\\\Desktop\\\\front\\\\src\\\\components\\\\login\\\\LoginComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport LoginService from '../../services/LoginService';\nimport styles from './LoginComponent.css';\nimport jwt_decode from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginComponent = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  var responseFromServer;\n\n  const submitLogin = e => {\n    e.preventDefault();\n\n    if (username.trim() === '' || password.trim() === '') {\n      alertInvalid(\"Invalid input, make sure everything is filed correctly and try again!\");\n    } else {\n      const loginParams = {\n        username,\n        password\n      };\n      LoginService.login(loginParams).then(response => {\n        responseFromServer = response.data.message.toString();\n\n        if (responseFromServer === \"success\") {\n          alertSuccess(\"Successfully signed in!\");\n          localStorage.token = response.data.token;\n          const decodedToken = jwt_decode(response.data.token);\n          localStorage.role = decodedToken.role; //stavlja se role u localstorage nakon sto se dekodira pomocu jwt-decode  \n\n          setTimeout(() => navigateDependingOnRole(localStorage.role), 1500);\n        } else if (responseFromServer === \"fail\") {\n          alertInvalid(\"Invalid username or password!\");\n        } else if (responseFromServer === \"deactivatedUser\") {\n          alertInvalid(\"Can't log in! User deactivated!\");\n        }\n      });\n    }\n  };\n\n  const navigateDependingOnRole = role => {\n    if (role === \"ADMIN\") {\n      navigate('/meals');\n    } else if (role === \"USER\") {\n      navigate('/menu');\n    } else if (role === \"EMPLOYEE\") {\n      navigate('/active-final-orders');\n    }\n  };\n\n  const alertSuccess = message => {\n    Swal.fire({\n      position: 'top',\n      icon: 'success',\n      title: message,\n      showConfirmButton: false,\n      timer: 1500\n    });\n  };\n\n  const alertInvalid = message => {\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: message\n    });\n  }; //card col-md-6 offset-md-3 offset-md-3' za formu siroko da je, 4 4 4 da je uze i centrirano lepo, ali po vertikali nzm kako da namestim\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-main-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loginContainerId\",\n      className: \"loginContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"icon-log-login\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          height: \"1em\",\n          viewBox: \"0 0 512 512\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 119\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), \"Sign in\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body login\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Username: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Insert username\",\n              name: \"username\",\n              className: \"form-control login-input\",\n              value: username,\n              onChange: e => setUsername(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Password: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Insert password\",\n              name: \"password\",\n              className: \"form-control login-input\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"login-submit-btn\",\n            onClick: e => submitLogin(e),\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"registration-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"registration-label\",\n              children: \"Don't have an account?\\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"registration-link\",\n              to: \"/registration\",\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginComponent, \"IIPwWddbiEHHD7aoL5eQeOR7fTk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginComponent;\nexport default LoginComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginComponent\");","map":{"version":3,"names":["React","useState","Link","useNavigate","useParams","Swal","LoginService","styles","jwt_decode","LoginComponent","username","setUsername","password","setPassword","navigate","responseFromServer","submitLogin","e","preventDefault","trim","alertInvalid","loginParams","login","then","response","data","message","toString","alertSuccess","localStorage","token","decodedToken","role","setTimeout","navigateDependingOnRole","fire","position","icon","title","showConfirmButton","timer","text","target","value"],"sources":["C:/Users/Ragad Fares/Desktop/front/src/components/login/LoginComponent.js"],"sourcesContent":["import React, {useState} from 'react'\nimport {Link, useNavigate, useParams} from 'react-router-dom'\nimport Swal from 'sweetalert2'\nimport LoginService from '../../services/LoginService'\nimport styles from './LoginComponent.css'\nimport jwt_decode from 'jwt-decode';\n\n\nconst LoginComponent = () => {\n\nconst [username, setUsername] = useState('')\nconst [password, setPassword] = useState('')\n\nconst navigate = useNavigate();\n\nvar responseFromServer;\n\nconst submitLogin = (e) =>{\n    e.preventDefault();\n    if(username.trim() === '' || password.trim() === ''){\n        alertInvalid(\"Invalid input, make sure everything is filed correctly and try again!\");\n      }\n    else{\n      const loginParams = {username, password}\n      LoginService.login(loginParams).then((response) =>{\n        responseFromServer = response.data.message.toString();\n        if(responseFromServer === \"success\"){\n            alertSuccess(\"Successfully signed in!\");\n            localStorage.token = response.data.token;\n            const decodedToken = jwt_decode(response.data.token);\n            localStorage.role = decodedToken.role; //stavlja se role u localstorage nakon sto se dekodira pomocu jwt-decode  \n            setTimeout(() => navigateDependingOnRole(localStorage.role), 1500);\n        }\n        else if(responseFromServer === \"fail\"){\n            alertInvalid(\"Invalid username or password!\");\n        }\n        else if(responseFromServer === \"deactivatedUser\"){\n            alertInvalid(\"Can't log in! User deactivated!\");\n        }\n      });\n    }\n    \n}\n\nconst navigateDependingOnRole = (role) =>{\n  if(role === \"ADMIN\"){\n    navigate('/meals')\n  }\n  else if(role === \"USER\"){\n    navigate('/menu')\n  }\n  else if(role === \"EMPLOYEE\"){\n    navigate('/active-final-orders')\n  }\n}\n\nconst alertSuccess = (message) =>{\n    Swal.fire({\n      position: 'top',\n      icon: 'success',\n      title: message,\n      showConfirmButton: false,\n      timer: 1500\n    });\n  }\n\n  const alertInvalid = (message) =>{\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: message,\n    })\n  }\n//card col-md-6 offset-md-3 offset-md-3' za formu siroko da je, 4 4 4 da je uze i centrirano lepo, ali po vertikali nzm kako da namestim\n  return (\n    <div className='login-main-container'>\n     \n        <div id='loginContainerId' className='loginContainer'>\n         \n            {/* <div className='card col-md-4 offset-md-4 offset-md-4'> */}\n            \n                <div className='title-login'>\n                <svg className=\"icon-log-login\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\"><path d=\"M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z\"/></svg>\n                  Sign in</div>\n                <div className='card-body login'>\n                  <form>\n                    <div className='form-group mb-2'>\n                      <label className='form-label'>Username: </label>\n                      <input  \n                          type=\"text\"\n                          placeholder=\"Insert username\" \n                          name = \"username\" \n                          className=\"form-control login-input\" \n                          value={username}\n                          onChange = {(e) => setUsername(e.target.value)}\n                          > \n                      </input>\n                    </div>\n                    <div className='form-group mb-2'>\n                      <label className='form-label'>Password: </label>\n                      <input  \n                          type=\"password\"\n                          placeholder=\"Insert password\" \n                          name = \"password\" \n                          className=\"form-control login-input\" \n                          value={password}\n                          onChange = {(e) => setPassword(e.target.value)}\n                          >  \n                      </input>\n                    </div>\n                  \n                    <button className='login-submit-btn' onClick={(e) => submitLogin(e)}>Submit</button>\n                    {/* <Link id=\"registrationBtn\" to=\"/registration\" className='btn btn-danger mt-2' style={{marginLeft:\"10px\"}}>Register</Link>  */}\n                  <div className='registration-div'>\n                    <div className='registration-label'>Don't have an account?&nbsp;</div>\n                    <Link className='registration-link' to='/registration'>Sign up</Link>\n                  </div>\n                  \n                  </form>\n                </div>\n        </div>\n        \n    </div>\n  )\n}\n\nexport default LoginComponent"],"mappings":"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"},"metadata":{},"sourceType":"module"}